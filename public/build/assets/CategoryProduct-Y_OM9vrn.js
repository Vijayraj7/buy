import{p as ae,r as p,u as le,H as oe,i as re,y as A,b as q,c as o,o as l,a as e,f as d,w as f,e as r,t as n,n as h,F as x,g as b,d as ne,k as _,Y as ie,Z as D,$ as de,a0 as ue,K as k,L as E,a1 as V,a2 as R,a3 as ce,a4 as pe,a5 as me}from"./app-BQHbBIUt.js";import{a as K,S as ge}from"./swiper-DzuD3GlN.js";import{_ as ve}from"./ProductCardToggler-DKMo_Hhe.js";import{S as Y}from"./SkeletonLoader-AETD93a5.js";import{r as fe,V as xe}from"./default-DCTM7ifP.js";import{r as be}from"./ArrowLeftIcon-DmjwDm9P.js";import"./ProductCard-Bc73kqew.js";import"./useTruncateText-CroACzlR.js";import"./ri-star-fill-BVG01WIX.js";import"./EyeIcon-DqZCdw_Q.js";const _e="/build/assets/5-star-YXAQSHQm.svg",ye="/build/assets/4-star-C1Uz58Jf.svg",he="/build/assets/3-star-_yK13msp.svg",we="/build/assets/2-star-Db7Hf17j.svg",ke="/build/assets/1-star-oM6oslTK.svg",$e={class:"main-container py-4 bg-slate-100 mt-[25px]"},Ce={key:0,class:"w-full p-2 sm:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},je={class:"text-slate-600 text-sm sm:text-base font-normal leading-normal"},Se={class:"grow overflow-x-auto"},Pe=["onClick"],Ve={class:"grow shrink basis-0"},ze={key:1,class:"w-full p-2 md:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},Fe={class:"main-container py-12"},Me={key:0,class:"flex justify-center items-center w-full mt-8"},Ue={class:"text-slate-800 text-base font-normal leading-normal"},Ae={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},De={class:"text-slate-800 text-base font-normal leading-normal"},Re={class:"fixed inset-0 overflow-hidden"},Le={class:"absolute inset-0 overflow-hidden"},Ne={class:"flex h-full flex-col justify-between overflow-hidden rounded-lg rounded-tr-none rounded-br-none bg-white shadow-xl"},Be={class:"overflow-y-scroll scrollbar-hide"},He={class:"flex justify-between items-center p-4 px-6 sticky top-0 right-0 z-10 bg-neutral-100"},Te={class:"text-zinc-900 text-2xl font-semibold leading-loose font-['Poppins']"},qe={class:"flex flex-col gap-4 p-4 px-6"},Ee={class:"border-b border-gray-100 pb-4 space-y-4"},Ke={class:"flex justify-between items-center gap-4"},Ye={class:"text-slate-900 text-lg font-['Poppins'] leading-relaxed"},Ie={class:"w-[98%]"},Qe={class:"flex items-center gap-2"},Ge={class:"flex items-center gap-1 flex-1 min-w-0"},Je={class:"border-b border-gray-100 pb-4"},Xe={class:"justify-center text-zinc-900 text-lg font-medium font-['Poppins'] leading-relaxed"},Ze=["for"],Oe={class:"flex items-center gap-[11px]"},We=["onUpdate:modelValue","id","value"],et={class:"flex justify-start items-center gap-1"},tt={class:"text-slate-800 text-base font-normal font-['Roboto'] leading-normal"},st={key:0,class:"w-5 h-5",src:_e,alt:""},at={key:1,class:"w-5 h-5",src:ye,alt:""},lt={key:2,class:"w-5 h-5",src:he,alt:""},ot={key:3,class:"w-5 h-5",src:we,alt:""},rt={key:4,class:"w-5 h-5",src:ke,alt:""},nt={class:"border-b border-gray-100 pb-4 space-y-4"},it={class:"justify-center text-zinc-900 text-lg font-medium font-['Poppins'] leading-relaxed"},dt=["value"],ut={class:"border-b border-gray-100 pb-4"},ct={class:"justify-center text-zinc-900 text-lg font-medium font-['Poppins'] leading-relaxed"},pt={key:0,class:"text-error text-base font-medium leading-normal capitalize"},mt=["for"],gt={class:"flex items-center gap-[11px]"},vt=["id","value"],ft={class:"flex justify-start items-center gap-1"},xt={class:"text-slate-800 text-base font-normal font-['Roboto'] leading-normal"},bt={class:"border-b border-gray-100 pb-4"},_t={class:"justify-center text-zinc-900 text-lg font-medium font-['Poppins'] leading-relaxed"},yt={key:0,class:"text-error text-base font-medium leading-normal capitalize"},ht=["for"],wt={class:"flex items-center gap-[11px]"},kt=["id","value"],$t={class:"flex justify-start items-center gap-1"},Ct={class:"text-slate-800 text-base font-normal font-['Roboto'] leading-normal"},jt={class:"border-b border-gray-100 pb-4"},St=["onClick"],Pt={class:"justify-center text-zinc-900 text-lg font-medium font-['Poppins'] leading-relaxed"},Vt={key:0,class:"text-error text-base font-medium leading-normal capitalize"},zt=["for"],Ft={class:"flex items-center gap-[11px]"},Mt=["id","value"],Ut={class:"flex justify-start items-center gap-1"},At={class:"text-slate-800 text-base font-normal font-['Roboto'] leading-normal"},Dt={class:"flex gap-6 p-6 border-t border-slate-200"},z=12,Qt={__name:"CategoryProduct",setup(Rt){const I=ae(),$=p(!0),m=le(),g=oe(),u=p([0,1e3]),Q={height:"4px"},G={backgroundColor:"var(--primary)"},J={borderColor:"var(--primary)",backgroundColor:"var(--primary)",borderRadius:"0px",width:"8px"};re(()=>{S(),H(),T(),window.scrollTo(0,0)}),A(()=>g.params.slug,()=>{N(),y.value=1,i.value.category_id=g.params.slug,S(),H(),T()}),A(()=>g.query.subcategory,()=>{y.value=1,S()});const y=p(1),X=a=>{y.value=a,S()},C=p(!1),w=p(""),i=p({rating:null,sort_type:"default",brand_id:"",color_id:null,size_id:null,min_price:null,max_price:null,category_id:g.params.slug,attribute_id:[]}),v=p({sizes:[],brands:[],colors:[],min_price:0,max_price:1e3}),Z=[5,4,3,2,1];m.categories;const j=p([]),L=p([]),F=p(0),M=p(!0),U=p(!1),P=a=>{w.value===a?w.value="":w.value=a};A(i.value,()=>{i.value.rating||i.value.shortBy||i.value.brand||i.value.color||i.value.size?U.value=!0:U.value=!1},{deep:!0});const N=()=>{i.value={rating:null,short_by:"default",brand_id:"",color_id:null,size_id:null,min_price:v.value.min_price,max_price:v.value.max_price,category_id:g.params.slug,attribute_id:[]},u.value=[Math.floor(v.value.min_price),Math.floor(v.value.max_price)],M.value=!0},B=p([]),S=async()=>{window.scrollTo({top:0,behavior:"smooth"}),$.value=!0,axios.get("/products",{params:{page:y.value,per_page:z,sub_category_id:g.query.subcategory,...i.value},headers:{"Accept-Language":m.locale||"en",Authorization:I.token,currency_id:m.selectedCurrency.id}}).then(a=>{F.value=a.data.data.total,j.value=a.data.data.products,v.value=a.data.data.filters,M.value&&(u.value=[Math.floor(v.value.min_price),Math.floor(v.value.max_price)]),setTimeout(()=>{$.value=!1},200)})},O=()=>{i.value.min_price=u.value[0],i.value.max_price=u.value[1],M.value=!1,m.search=null,y.value=1,C.value=!1,S()},H=async()=>{axios.get("/sub-categories?category_id="+g.params.slug,{headers:{"Accept-Language":m.locale||"en"}}).then(a=>{B.value=a.data.data.sub_categories})},T=async()=>{axios.get("/category/"+g.params.slug+"/attributes",{headers:{"Accept-Language":m.locale||"en"}}).then(a=>{L.value=a.data.data.attributes})},W=[{name:"Default Sorting",value:"default"},{name:"High to Low",value:"high_to_low"},{name:"Low to High",value:"low_to_high"},{name:"Most Selling",value:"top_selling"},{name:"New Product",value:"newest"}];return(a,s)=>{const ee=q("router-link"),te=q("vue-awesome-paginate");return l(),o("div",null,[e("div",$e,[$.value?(l(),o("div",ze,[(l(),o(x,null,b(2,t=>d(Y,{class:"w-24 sm:w-32 md:w-72 lg:w-96 h-12 rounded"})),64))])):(l(),o("div",Ce,[d(ee,{to:"/",class:"py-2 flex gap-1 sm:gap-2 items-center justify-center"},{default:f(()=>[d(r(be),{class:"w-4 h-4 sm:w-6 sm:h-6 text-slate-600"}),e("div",je,n(a.$t("Back")),1)]),_:1}),e("div",Se,[d(r(ge),{slidesPerView:"auto",spaceBetween:16,class:"categorySwiper"},{default:f(()=>[d(r(K),null,{default:f(()=>[e("div",{class:h(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] border text-base font-normal leading-normal hover:text-primary cursor-pointer transition duration-300",r(g).query.subcategory?"border-slate-200 text-slate-600":"text-primary border-primary"]),onClick:s[0]||(s[0]=t=>a.$router.push(`/categories/${r(g).params.slug}`))},n(a.$t("All")),3)]),_:1}),(l(!0),o(x,null,b(B.value,t=>(l(),ne(r(K),{key:t.id},{default:f(()=>[e("div",{class:h(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] border text-base font-normal leading-normal hover:text-primary cursor-pointer transition duration-300",t.id==r(g).query.subcategory?"text-primary border-primary":"border-slate-200 text-slate-600"]),onClick:c=>a.$router.push(`/categories/${r(g).params.slug}?subcategory=${t.id}`)},n(t.name),11,Pe)]),_:2},1024))),128))]),_:1})]),e("div",null,[e("button",{class:h(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] justify-center items-center gap-2 inline-flex text-sm sm:text-base font-normal leading-normal border-0 outline-none hover:text-primary transition duration-300",U.value?" bg-primary-200 text-primary":"text-slate-600 bg-slate-200"]),onClick:s[1]||(s[1]=t=>C.value=!0)},[d(r(fe),{class:"w-4 h-4 sm:w-6 sm:h-6"}),e("div",Ve,n(a.$t("Filter")),1)],2)])]))]),e("div",Fe,[e("div",{class:h(["grid grid-cols-1 gap-6 items-start",r(m).themeName=="UltraMart"?"xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"])},[$.value?(l(),o(x,{key:1},b(12,t=>e("div",{key:t},[d(Y,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(l(!0),o(x,{key:0},b(j.value,t=>(l(),o("div",{key:t.id,class:"w-full"},[d(ve,{productData:t},null,8,["productData"])]))),128))],2),j.value.length==0&&!$.value?(l(),o("div",Me,[e("div",Ue,n(a.$t("No products found")),1)])):_("",!0),j.value.length>0&&!$.value?(l(),o("div",Ae,[e("div",De,n(a.$t("Showing"))+" "+n(z*(y.value-1)+1)+" to "+n(z*(y.value-1)+j.value.length)+" "+n(a.$t("of"))+" "+n(F.value)+" "+n(a.$t("results")),1),e("div",null,[d(te,{"total-items":F.value,"items-per-page":z,type:"button","max-pages-shown":5,modelValue:y.value,"onUpdate:modelValue":s[2]||(s[2]=t=>y.value=t),"hide-prev-next-when-ends":!0,onClick:X},null,8,["total-items","modelValue"])])])):_("",!0)]),d(r(me),{as:"template",show:C.value},{default:f(()=>[d(r(ie),{as:"div",class:"relative z-50",onClose:s[16]||(s[16]=t=>C.value=!1)},{default:f(()=>[d(r(D),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[...s[17]||(s[17]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-30 transition-opacity"},null,-1)])]),_:1}),e("div",Re,[e("div",Le,[e("div",{class:h(["pointer-events-none fixed inset-y-0 flex max-w-full",r(m).langDirection=="rtl"?"left-0 sm:pr-10":"right-0 sm:pl-10"])},[d(r(D),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":r(m).langDirection=="rtl"?"-translate-x-full":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":r(m).langDirection=="rtl"?"-translate-x-full":"translate-x-full"},{default:f(()=>[d(r(de),{class:"pointer-events-auto relative w-screen max-w-md"},{default:f(()=>[d(r(D),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[...s[18]||(s[18]=[e("div",{class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},null,-1)])]),_:1}),e("div",Ne,[e("div",Be,[e("div",He,[e("div",Te,n(a.$t("Filter")),1),e("button",{class:"w-8 h-8 flex justify-center items-center bg-slate-100 rounded-full",onClick:s[3]||(s[3]=t=>C.value=!1)},[d(r(ue),{class:"w-5 h-5 text-slate-700"})])]),e("div",qe,[e("div",Ee,[e("div",Ke,[e("div",Ye,n(a.$t("Filter by Price")),1),s[19]||(s[19]=e("button",{class:"w-14 h-8 px-2.5 py-1.5 bg-primary rounded inline-flex justify-center items-center gap-2 text-white text-sm font-medium font-['Poppins'] leading-snug"}," Filter ",-1))]),e("div",Ie,[d(r(xe),{modelValue:u.value,"onUpdate:modelValue":s[4]||(s[4]=t=>u.value=t),min:v.value.min_price,max:v.value.max_price,"rail-style":Q,"process-style":G,"dot-style":J},null,8,["modelValue","min","max","rail-style","process-style","dot-style"])]),e("div",Qe,[s[21]||(s[21]=e("p",{class:"text-slate-500 text-base font-normal font-['Poppins'] leading-normal flex-shrink-0"}," Price: ",-1)),e("div",Ge,[k(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>u.value[0]=t),onInput:s[6]||(s[6]=t=>u.value=[t.target.valueAsNumber,u.value[1]]),type:"number",name:"min-price",class:"h-8 flex-1 min-w-0 px-4 bg-neutral-100 rounded text-zinc-900 text-sm font-normal font-['Poppins'] leading-snug outline outline-1 outline-offset-[-1px] outline-gray-300"},null,544),[[E,u.value[0]]]),s[20]||(s[20]=e("p",{class:"text-gray-700 text-base font-normal font-['Poppins'] leading-normal px-1"}," - ",-1)),k(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>u.value[1]=t),onInput:s[8]||(s[8]=t=>u.value=[u.value[0],t.target.valueAsNumber]),type:"number",name:"max-price",class:"h-8 flex-1 min-w-0 px-4 bg-neutral-100 rounded text-zinc-900 text-sm font-normal font-['Poppins'] leading-snug outline outline-1 outline-offset-[-1px] outline-gray-300"},null,544),[[E,u.value[1]]])])])]),e("div",Je,[e("div",{onClick:s[9]||(s[9]=t=>P("rating")),class:"flex justify-between items-center cursor-pointer"},[e("p",Xe,n(a.$t("Filter by Rating")),1),d(r(V),{class:"h-5 w-5 text-gray-800"})]),e("div",{class:h(["flex flex-col gap-3",w.value==="rating"?"expanded_section_active pt-4 scrollbar-hide":"expanded_section"])},[(l(),o(x,null,b(Z,t=>e("div",{key:t,class:"grow"},[e("label",{for:`rating${t}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between bg-white rounded-lg gap-1.5"},[e("div",Oe,[k(e("input",{type:"radio","onUpdate:modelValue":c=>i.value.rating=c,id:`rating${t}`,name:"review",value:t,class:"w-4 h-4 appearance-none checked:bg-primary rounded border-2 border-gray-400 shrink-0 transition duration-300"},null,8,We),[[R,i.value.rating]]),e("div",et,[e("p",tt,n(t)+".0 ",1),t==5?(l(),o("img",st)):_("",!0),t==4?(l(),o("img",at)):_("",!0),t==3?(l(),o("img",lt)):_("",!0),t==2?(l(),o("img",ot)):_("",!0),t==1?(l(),o("img",rt)):_("",!0)])])],8,Ze)])),64))],2)]),e("div",nt,[e("p",it,n(a.$t("Sort by")),1),k(e("select",{"onUpdate:modelValue":s[10]||(s[10]=t=>i.value.sort_type=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[(l(),o(x,null,b(W,t=>e("option",{key:t,value:t.value},n(t.name),9,dt)),64))],512),[[ce,i.value.sort_type]])]),e("div",ut,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:s[11]||(s[11]=t=>P("brand"))},[e("p",ct,n(a.$t("Brand")),1),d(r(V),{class:"h-5 w-5 text-gray-800"})]),e("div",{class:h(["flex flex-col gap-3",w.value==="brand"?"expanded_section_active pt-4 scrollbar-hide":"expanded_section"])},[v.value.brands.length==0?(l(),o("p",pt," no brands available ")):_("",!0),(l(!0),o(x,null,b(v.value.brands,t=>(l(),o("div",{key:t.id,class:"grow"},[e("label",{for:`rating${t.id}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between bg-white rounded-lg gap-1.5"},[e("div",gt,[k(e("input",{type:"radio","onUpdate:modelValue":s[12]||(s[12]=c=>i.value.brand_id=c),id:`rating${t.id}`,name:"review",value:t.id,class:"w-4 h-4 appearance-none checked:bg-primary rounded border-2 border-gray-400 shrink-0 transition duration-300"},null,8,vt),[[R,i.value.brand_id]]),e("div",ft,[e("p",xt,n(a.$t(t.name)),1)])])],8,mt)]))),128))],2)]),e("div",bt,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:s[13]||(s[13]=t=>P("categories"))},[e("p",_t,n(a.$t("Category")),1),d(r(V),{class:"h-5 w-5 text-gray-800"})]),e("div",{class:h(["flex flex-col gap-3",w.value==="categories"?"expanded_section_active pt-4 scrollbar-hide":"expanded_section"])},[r(m).categories.length==0?(l(),o("p",yt," no categories available ")):_("",!0),(l(!0),o(x,null,b(r(m).categories,t=>(l(),o("div",{key:t.id,class:"grow"},[e("label",{for:`category${t.id}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between bg-white rounded-lg gap-1.5"},[e("div",wt,[k(e("input",{type:"radio","onUpdate:modelValue":s[14]||(s[14]=c=>i.value.category_id=c),id:`category${t.id}`,name:"review",value:t.id,class:"w-4 h-4 appearance-none checked:bg-primary rounded border-2 border-gray-400 shrink-0 transition duration-300"},null,8,kt),[[R,i.value.category_id]]),e("div",$t,[e("p",Ct,n(a.$t(t.name)),1)])])],8,ht)]))),128))],2)]),(l(!0),o(x,null,b(L.value,t=>(l(),o("div",jt,[e("div",{class:"flex justify-between items-center cursor-pointer",onClick:c=>P(t.name)},[e("p",Pt,n(t.name),1),d(r(V),{class:"h-5 w-5 text-gray-800"})],8,St),e("div",{class:h(["flex flex-col gap-3",w.value===t.name?"expanded_section_active pt-4 scrollbar-hide":"expanded_section"])},[t.sub_attributes.length==0?(l(),o("p",Vt," no "+n(t.name)+" available ",1)):_("",!0),(l(!0),o(x,null,b(t.sub_attributes,c=>(l(),o("div",{key:c.id,class:"grow"},[e("label",{for:`sub_attribute${c.id}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between bg-white rounded-lg gap-1.5"},[e("div",Ft,[k(e("input",{type:"checkbox","onUpdate:modelValue":s[15]||(s[15]=se=>i.value.attribute_id=se),id:`sub_attribute${c.id}`,name:"review",value:c.id,class:"w-4 h-4 appearance-none checked:bg-primary rounded border-2 border-gray-400 shrink-0 transition duration-300"},null,8,Mt),[[pe,i.value.attribute_id]]),e("div",Ut,[e("p",At,n(a.$t(c.name)),1)])])],8,zt)]))),128))],2)]))),256))])]),e("div",Dt,[e("button",{class:"grow px-4 py-3 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal",onClick:N},n(a.$t("Clear")),1),e("button",{class:"grow px-4 py-3 bg-primary rounded-[10px] border border-primary text-white text-base font-medium leading-normal",onClick:O},n(a.$t("Apply")),1)])])]),_:1})]),_:1},8,["enter-from","leave-to"])],2)])])]),_:1})]),_:1},8,["show"])])}}};export{Qt as default};
